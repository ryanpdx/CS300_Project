<html>
<script>
// CS300 Team E project
// add names later
</script>
<head>
    <meta charset="UTF-8">
    <title>Frupal</title>
    <style type="text/css">
        canvas{
        display: block;
        margin: 50px auto;
        
        }
	</style>
</head>
<audio id="death" src="death.mp3"preload="auto"></audio>
<canvas id="mycanvas" width="660px" height="660px"></canvas>
<script>
	var chess = document.getElementById("mycanvas");
	var context = chess.getContext('2d');
	var me = true;
	var position = [0, 0] // Here is the initial position of the hero
	
	function drawChessBoard(){
		for(var i=0;i<21;i++){
			context.strokeStyle="#D6D1D1";
			context.moveTo(21+i*30,21);//There are 21 vertical lines, the gap is 30px
			context.lineTo(21+i*30,620);
			context.stroke();
			context.moveTo(21,21+i*30);//There are 21 verizon lines, the gap is 30px
			context.lineTo(620,21+i*30);
			context.stroke();
		}
	}//This function is used for drawing the coordinate
	drawChessBoard(); //Actually draw the coordinate
	
	x_max = 25;
	y_max = 25;
	x_hero = 0;
	y_hero = 0;
	hero_energy = 10;

	//refreshes hero varible text boxes for when updated
	function refresh_info(){ 
		document.forms[0].hero_loc.value =x_hero+','+y_hero;
		document.forms[0].hero_energy.value =hero_energy;

	}

	function out_of_energy(energy){
	if (energy <= 0){
		<!-- no energy --> 
		document.getElementById('death').play();
			death_confirm();
			return true;
		}
		return false;
	}

	function death_confirm(){
		alert("You have run out of energy, new game");
		window.location.reload();
	}

	//move hero north 
	function hero_north(){
		hero_energy--;
		out_of_energy(hero_energy);
		if(y_hero >= y_max-1)
		{ y_hero = 0;}
		else
		{y_hero += 1;}
		refresh_info();
	}

	function hero_east(){
		hero_energy--;
		out_of_energy(hero_energy);
		if(x_hero >= x_max-1)
		{ x_hero = 0;}
		else
		{x_hero += 1;}
		refresh_info();
	}

	function hero_west(){
		hero_energy--;
		out_of_energy(hero_energy);
		if(x_hero <= 0)
		{ x_hero = x_max-1;}
		else
		{x_hero += -1;}
		refresh_info();
	}

	function hero_south(){
		hero_energy--;
		out_of_energy(hero_energy);
		if(y_hero <= 0)
		{ y_hero = y_max-1;}
		else
		{y_hero += -1;}
		refresh_info();
	}	
</script>
<body>
	<form> <! Displays hero variables in text box values are not alterable in textbox>
		Map Size: <input name=map type=text value ="null">
		<br>
		Current Location: <input name=hero_loc type=text value="null">
		<br>
		Hero Energy: <input name=hero_energy type=text value="null">
		<br><br>
	</form>

	<table> <! Displays movement in 3x3 table>
		<tr>
		<td></td>
		<td><button onclick=hero_north() >north </button></td>
		<td></td>
		</tr>
		
		<tr>
		<td><button onclick=hero_west() >west </button></td>
		<td></td>
		<td><button onclick=hero_east() >east  </button></td>
		</tr>

		<tr>
		<td></td>
		<td><button onclick=hero_south() >south </button></td>
		<td></td>
		</tr>
	</table>

	
	 <! sets hero variables to default values>
	<script>
		document.forms[0].map.value = x_max+ ',' +y_max;
		document.forms[0].hero_loc.value =x_hero+','+y_hero;
		document.forms[0].hero_energy.value =hero_energy;
	</script>
</body>
</html>
